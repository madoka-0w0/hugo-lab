{{/* home/custom.html
     params.toml の homepage.layout = "custom" で呼び出されるホームページレイアウト。
     Congo の index.html → _partials/home/custom.html の順に解決される。

     セクション構成:
       1. Hero          ← layouts/_partials/hero.html
       2. About         ← T-06 で本文テキストを追加
       3. Latest News   ← T-06 で実装（content/news/ から最新 N 件を表示）
       4. Research      ← T-06 で実装（content/research/ のカード）
*/}}

{{/* 1. Hero */}}
{{ partial "hero.html" . }}

{{/* 2. About */}}
<section class="section-home" id="about">
  <h2>{{ i18n "home.about_title" | default "研究室について" }}</h2>
  <div class="prose dark:prose-invert max-w-none">
    {{ .Content }}
  </div>
</section>

{{/* 3. Latest News（T-06 で実装。現時点はプレースホルダー） */}}
<section class="section-home" id="news">
  <h2>{{ i18n "home.news_title" | default "お知らせ" }}</h2>
  {{ $news := where .Site.RegularPages "Section" "news" }}
  {{ $news = $news | first (.Site.Params.homepage.recentLimit | default 5) }}
  {{ if $news }}
    <ul>
      {{ range $news }}
        <li>
          <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "2006.01.02" }}</time>
          &nbsp;
          <a href="{{ .Permalink }}">{{ .Title }}</a>
        </li>
      {{ end }}
    </ul>
    <p><a href="{{ relURL "news/" }}">{{ i18n "home.news_more" | default "ニュース一覧" }} →</a></p>
  {{ else }}
    <p><!-- ニュース記事が追加されると自動表示されます --></p>
  {{ end }}
</section>

{{/* 4. Research Topics（T-06 で実装。現時点はプレースホルダー） */}}
<section class="section-home" id="research">
  <h2>{{ i18n "home.research_title" | default "研究テーマ" }}</h2>
  {{ $themes := where .Site.Pages "Section" "research" }}
  {{ $themes = where $themes "Kind" "section" }}
  {{ if $themes }}
    <div class="card-grid">
      {{ range $themes }}
        <article class="card">
          <img src="{{ relURL "images/research/placeholder.png" }}" alt="{{ .Title }}">
          <div class="card-body">
            <h3><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
            <p>{{ .Description }}</p>
          </div>
        </article>
      {{ end }}
    </div>
  {{ end }}
</section>
